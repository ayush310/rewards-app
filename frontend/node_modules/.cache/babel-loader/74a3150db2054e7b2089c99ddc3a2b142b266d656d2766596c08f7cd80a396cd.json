{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ayushkumarsingh/Desktop/Workspace/Company Assignments/capillary_assngmt/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ayushkumarsingh/Desktop/Workspace/Company Assignments/capillary_assngmt/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ayushkumarsingh/Desktop/Workspace/Company Assignments/capillary_assngmt/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button}from\"@chakra-ui/button\";import{FormControl,FormLabel}from\"@chakra-ui/form-control\";import{Input,InputGroup,InputRightElement}from\"@chakra-ui/input\";import{VStack}from\"@chakra-ui/layout\";import axios from\"axios\";import{useState}from\"react\";import{useToast}from\"@chakra-ui/react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleClick=function handleClick(){return setShow(!show);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),confirmpassword=_useState8[0],setConfirmpassword=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var toast=useToast();var history=useHistory();var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);if(!(!name||!email||!password||!confirmpassword)){_context.next=5;break;}toast({title:\"Please Fill all the Feilds\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);return _context.abrupt(\"return\");case 5:if(!(password!==confirmpassword)){_context.next=8;break;}toast({title:\"Passwords Do Not Match\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});return _context.abrupt(\"return\");case 8:console.log(name,email,password);_context.prev=9;config={headers:{\"Content-type\":\"application/json\"}};_context.next=13;return axios.post(\"api/user/signup\",{name:name,email:email,password:password},config);case 13:_yield$axios$post=_context.sent;data=_yield$axios$post.data;//   console.log(data);\ntoast({title:\"Registration Successful\",status:\"success\",duration:5000,isClosable:true,position:\"bottom\"});localStorage.setItem(\"userInfo\",JSON.stringify(data));setLoading(false);history.push(\"/dashboard\");_context.next=25;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](9);toast({title:\"Error Occured!\",description:_context.t0.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);case 25:case\"end\":return _context.stop();}},_callee,null,[[9,21]]);}));return function submitHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(VStack,{spacing:\"5px\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"first-name\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Name\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Enter Your Name\",onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"email\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"Enter Your Email Address\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{size:\"md\",children:[/*#__PURE__*/_jsx(Input,{type:show?\"text\":\"password\",placeholder:\"Enter Password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.75rem\",size:\"sm\",onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(InputGroup,{size:\"md\",children:[/*#__PURE__*/_jsx(Input,{type:show?\"text\":\"password\",placeholder:\"Confirm password\",onChange:function onChange(e){return setConfirmpassword(e.target.value);},value:confirmpassword}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.75rem\",size:\"sm\",onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"100%\",style:{marginTop:15},onClick:submitHandler,isLoading:loading,children:\"Sign Up\"})]});};export default Signup;","map":{"version":3,"names":["Button","FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","axios","useState","useToast","useHistory","jsx","_jsx","jsxs","_jsxs","Signup","_useState","_useState2","_slicedToArray","show","setShow","handleClick","_useState3","_useState4","name","setName","_useState5","_useState6","email","setEmail","_useState7","_useState8","confirmpassword","setConfirmpassword","_useState9","_useState10","password","setPassword","_useState11","_useState12","loading","setLoading","toast","history","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","_yield$axios$post","data","wrap","_callee$","_context","prev","next","title","status","duration","isClosable","position","abrupt","console","log","headers","post","sent","localStorage","setItem","JSON","stringify","push","t0","description","response","message","stop","apply","arguments","spacing","children","id","isRequired","placeholder","onChange","e","target","value","type","size","width","h","onClick","colorScheme","style","marginTop","isLoading"],"sources":["/Users/ayushkumarsingh/Desktop/Workspace/Company Assignments/capillary_assngmt/frontend/src/components/Signup.js"],"sourcesContent":["import { Button } from \"@chakra-ui/button\";\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\nimport { VStack } from \"@chakra-ui/layout\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useToast } from \"@chakra-ui/react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Signup = () => {\n  const [show, setShow] = useState(false);\n  const handleClick = () => setShow(!show);\n\n  const [name, setName] = useState();\n  const [email, setEmail] = useState();\n  const [confirmpassword, setConfirmpassword] = useState();\n  const [password, setPassword] = useState();\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const history = useHistory();\n  const submitHandler = async () => {\n    setLoading(true);\n    if (!name || !email || !password || !confirmpassword) {\n      toast({\n        title: \"Please Fill all the Feilds\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setLoading(false);\n      return;\n    }\n    if (password !== confirmpassword) {\n      toast({\n        title: \"Passwords Do Not Match\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      return;\n    }\n    console.log(name, email, password);\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n      const { data } = await axios.post(\n        \"api/user/signup\",\n        {\n          name,\n          email,\n          password,\n        },\n        config\n      );\n      //   console.log(data);\n      toast({\n        title: \"Registration Successful\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n      setLoading(false);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      toast({\n        title: \"Error Occured!\",\n        description: error.response.data.message,\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n      });\n      setLoading(false);\n    }\n  };\n\n  return (\n    <VStack spacing=\"5px\">\n      <FormControl id=\"first-name\" isRequired>\n        <FormLabel>Name</FormLabel>\n        <Input\n          placeholder=\"Enter Your Name\"\n          onChange={(e) => setName(e.target.value)}\n          value={name}\n        />\n      </FormControl>\n      <FormControl id=\"email\" isRequired>\n        <FormLabel>Email Address</FormLabel>\n        <Input\n          type=\"email\"\n          placeholder=\"Enter Your Email Address\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </FormControl>\n      <FormControl id=\"password\" isRequired>\n        <FormLabel>Password</FormLabel>\n        <InputGroup size=\"md\">\n          <Input\n            type={show ? \"text\" : \"password\"}\n            placeholder=\"Enter Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <InputRightElement width=\"4.5rem\">\n            <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\n              {show ? \"Hide\" : \"Show\"}\n            </Button>\n          </InputRightElement>\n        </InputGroup>\n      </FormControl>\n      <FormControl id=\"password\" isRequired>\n        <FormLabel>Confirm Password</FormLabel>\n        <InputGroup size=\"md\">\n          <Input\n            type={show ? \"text\" : \"password\"}\n            placeholder=\"Confirm password\"\n            onChange={(e) => setConfirmpassword(e.target.value)}\n            value={confirmpassword}\n          />\n          <InputRightElement width=\"4.5rem\">\n            <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\n              {show ? \"Hide\" : \"Show\"}\n            </Button>\n          </InputRightElement>\n        </InputGroup>\n      </FormControl>\n      <Button\n        colorScheme=\"blue\"\n        width=\"100%\"\n        style={{ marginTop: 15 }}\n        onClick={submitHandler}\n        isLoading={loading}\n      >\n        Sign Up\n      </Button>\n    </VStack>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}